# Тизер

Когда я проводил множественные собеседования по поиску java разработчика, на этот вопрос не могли ответить 90 процентов кандидатов. Сначала этот вопрос был из простых, затем я стал задавать его более продвинутым кандидатам. А когда и они не могли в подавляющем большинстве ответить на этот вопрос, то он перешел в разряд вопросов со звездочкой. Знаете какой самый частый ответ я получал на этот вопрос? Ответ: "всмысле?" :) Какой же это вопрос? 

"Какой тип у лямбда выражения?" 

# Немного назад. История. 

Что такое лямбда выражения, откуда они взялись и для чего в основном применяются. В 2014 году в мире джава произошла маленькая революция - вышла java 8, которая внесла очень много изменений в java 7 и 6 и до сих пор является основной версией java в корпоративной разработке. Ее поддержку продлили до 2030 года. Что же в ней такого, чего раньше не было. Для прикладного программиста основной - это stream api и пакет java.util.function. Кроме этого была серьезно переработана работа датами, base64 вошел в стандартное апи, но это мы оставим за пределами этого видео. Нас интересуют потоки и лямбда выражения. 

# Потоки и лямбды

Что такое лямбда выражения и почему они важны в потоках (стримах)? Лямбда выражения - это анонимная функция, то есть функция без имени. Фактически только ее тело. Это позволяет значительно сокращать объем кода. Мы не пишем всю обвязку - название функции, ее параметры и возвращаемое значение. Мы пишем только смысловую часть. Лямбды пришли в джава из функционального программирования и добавили его в джава. Мы и раньше могли писать функции, которые получают функции в виде параметров и создают новые функции. Но сейчас для этого стало нужно писать значительно меньше кода. 

что такое потоки или стримы - это конвейер обработки поступающих данных. Данные поступают из коллекции или функции генератора на вход конвейера. Далее мы можем их фильтровать и преобразовывать ее элементы. А в конце собрать в нужную нам структуру - свернуть весь поток в одно значение (список в строку) или преобразовать одну коллекцию в другую - список в мэп (ассоциативный массив). И самое прекрасное, что мы можем одним вызовом сделать этот конвейер параллельным. И джава сама создаст нужное количество потоков для его обработки. Если раньше нам нужно было делать все это самим - создавать потоки, синхронизировать их, ждать завершения и собирать результат, то теперь за нас все это стала делать джава. Ну разве не революция? А если еще сюда добавить анонимные функции для шагов этого конвейера, то все становится еще более красивым. 
Смотри - это два фрагмента кода делают одно и тоже. Получают на вход строку, разбивают ее на слова, находят слова длиннее 3 символов и короче 7 и собирают строку из этих слов, каждое только 1 раз и на новой печатной строке. Код в старом стиле значительно длиннее. А в новом стиле мы используем лямда выражение для для фильтрации и distinct для обеспечения уникальности. 

Лямбды очень удобны в написании кода и абсолютное большинство программистов их использует. Но абсолютное меньшинство прочитало документацию на стрим апи, чтобы четко понимать как они работают. И здесь мы подходим к моему вопросу. 

# Вопрос и ответ
В джаве все имеет тип. Так какие типы имеют лямбда выражения из этих примеров (фильтр и мап) и как можно написать этот код без использования лямбда выражений? И лучше задавать этот вопрос, когда загуглить не получится. Потому что ответ - он в документации на видном месте - в типе параметра этих функций. Фильтр принимает Predicate,  а Мап - function от одного аргумента. Что это такое - а это функциональные интерфейсы из пакета java.util.function. У них есть методы тест и аплай соответственно. Которые и реализуются лямбда выражениями. Значит тип лямбда выражений из наших примеров - это предикат и функция. А код без лямбда выражений будет выглядеть так. Много лишнего не так ли? Но это лишнее как раз и показывает, что вы понимаете как устроены и работают лямбды, а не просто используете их бездумно. и когда что-то идет не так начинате гуглить по стек-оверфлоу. 

Понравилось? если да, то подписывайся. В следующих видео я сделаю обзор на вавр - библиотеку, которая добавит еще больше функционального программирования в джава и сделает джава стримы, похожими на стримы в котлине. 
